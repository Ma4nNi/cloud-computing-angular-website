<p>Tarea 4</p>
<div class="row">

</div>
<div class=" row">
  <div class="col-md-6">
    <h4>Superhero 1 results</h4>
    <select id="char1">

    </select>
     </div>

  <div class="col-md-6">
    <h4>SuperHero 2 results</h4>
    <select id="char2">

    </select>
    </div>
</div>
<div class="row">
  <button class="btn-default" onClick="Generate()">GENERATE</button>
</div>

<div class="row">
  <div class="col-md-6" id="enemiesRow">

  </div>
  <div class="col-md-6" id="volumesRow"></div>
</div>

<h3>BUCKET LOCATION: <a href="https://s3.amazonaws.com/mannpe-comic-bucket/1009148_1010354.json"> mannpe-comic-bucket </a> </h3>
<h3>Code Location: <a href=""></a></h3>


<script type="text/javascript">
  console.log("HELLO")
  var sampleUrl="https://jr8gulay1b.execute-api.us-east-1.amazonaws.com/dev/comics/characters";
  $.get(sampleUrl, function(data, status){
//    console.log("" + data);
    console.log("RESULTS 1")
    console.log(data);

    console.log("Finished p1");
    for(var i=0;i<data.results.length;i++){
      $("#char1").append("<option value='"+data.results[i].id+"'>"+data.results[i].name+"</option>");
      $("#char2").append("<option value='"+data.results[i].id+"'>"+data.results[i].name+"</option>");
    }
    $("#char1").select2();
    $("#char2").select2();
    console.log("AM READY ");
  });

  function Generate(){
    $("#volumesRow").empty();
    $("#enemiesRow").empty();
    var values = $("#char1").val();
    var value2 = $("#char2").val();

    //console.log(values, value2)
    var values=1009148;
    var value2=1010354;
    var compareUrl= "https://cbc3rme0x9.execute-api.us-east-1.amazonaws.com/Development/compare?firstCharacterId="+values+"&secondCharacterId="+value2;
    compareUrl = "https://cbc3rme0x9.execute-api.us-east-1.amazonaws.com/Development/comics/compare?firstCharacterId=1009148&secondCharacterId=1010354";
      $.get(compareUrl, function(data, status){
        console.log("trying with:",compareUrl);
        data = $.parseJSON(data["body"]);
        console.log(data.results);
        console.log(data.results.length);

        $("#volumesRow").append("<h2>Common Volumes</h2>");
        $("#enemiesRow").append("<h2>Common enemies</h2>");
        for(var i=0;i<data.results.length;i++){
          console.log(data.results[i]);
          $("#volumesRow").append("<h4>"+data.results[i]+"</h4>");
        }
        
      });
  }
</script>

